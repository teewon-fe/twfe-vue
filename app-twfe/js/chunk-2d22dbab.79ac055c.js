(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22dbab"],{f979:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("main",{staticClass:"tw-body"},[e("div",{staticClass:"tw-body-inner xcontainer"},[e("div",{directives:[{name:"bottom",rawName:"v-bottom",value:70,expression:"70"}],staticClass:"tw-body-content"},[e("div",{staticClass:"tw-title"},[e("h3",{staticClass:"tw-title-left text-default"},[t._v("问题列表")]),e("div",{staticClass:"tw-title-right"},[e("router-link",{staticClass:"tw-btn xsecondary",attrs:{to:"/new-issue"}},[t._v("创建问题")])],1)]),e("div",{staticClass:"tw-flex"},[e("div",{staticClass:"tw-flex-body"},[e("div",{staticClass:"mb-small"},[e("label",[t._v("选择问题类型：")]),e("el-select",{attrs:{size:"small",clearable:""},on:{change:function(s){return t.$api.kpi.issues.send()}},model:{value:t.$api.kpi.issues.params.type,callback:function(s){t.$set(t.$api.kpi.issues.params,"type",s)},expression:"$api.kpi.issues.params.type"}},t._l(t.$dic.issueType,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)]),e("div",[e("el-checkbox",{staticClass:"mx-small",attrs:{"true-label":"","false-label":"doing"},on:{change:function(s){return t.$api.kpi.issues.send()}},model:{value:t.$api.kpi.issues.params.status,callback:function(s){t.$set(t.$api.kpi.issues.params,"status",s)},expression:"$api.kpi.issues.params.status"}},[t._v("显示所有任务")])],1)]),e("table",{staticClass:"tw-table"},[t._m(0),e("tbody",t._l(t.$api.kpi.issues.data.list,(function(s,i){return e("tr",{key:s.id},[e("td",[t._v(t._s(i+1))]),e("td",[e("a",{staticClass:"text-link",on:{click:function(e){return t.editIssue(s)}}},[t._v(t._s(s.descript))])]),e("td",[t._v(t._s(s.create_developer))]),e("td",[t._v(t._s(s.handle_developer))]),e("td",[t._v(t._s(t.$ui.dateFormat(s.resolve_time,"yyyy-mm-dd")))]),e("td",[t._v(t._s("done"===s.status?"已完成":"进行中"))]),e("td",[e("a",{staticClass:"tw-icobtn",attrs:{title:"删除"},on:{click:function(e){return t.delIssue(s)}}},[e("i",{staticClass:"tw-ico xdel"})]),"doing"===s.status?e("a",{staticClass:"tw-icobtn ml-step",attrs:{title:"结束"},on:{click:function(e){return t.updateIssue(s,"done")}}},[e("i",{staticClass:"tw-ico xstop"})]):t._e()])])})),0)])])])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{staticStyle:{width:"5em"}},[t._v("序号")]),e("th",[t._v("问题描述")]),e("th",{staticStyle:{width:"7em"}},[t._v("问题创建人")]),e("th",{staticStyle:{width:"7em"}},[t._v("问题处理人")]),e("th",{staticStyle:{width:"8em"}},[t._v("期待解决时间")]),e("th",{staticStyle:{width:"5em"}},[t._v("状态")]),e("th",{staticStyle:{width:"90px"}},[t._v("操作")])])])}],l={name:"page-issue",methods:{editIssue(t){this.$router.push({name:"new-issue",params:t,query:{id:t.id}})},delIssue(t){this.$confirm("是否删除该问题?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$api.kpi.delIssue.send({id:t.id}).then(()=>{this.$api.kpi.issues.send()})}).catch(()=>{})},updateIssue(t,s){t.status=s,this.$api.kpi.updateIssue.send(t)}},created(){this.$api.kpi.issues.send()}},n=l,c=e("9ca4"),d=Object(c["a"])(n,i,a,!1,null,null,null);s["default"]=d.exports}}]);
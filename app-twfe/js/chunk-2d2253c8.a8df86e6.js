(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2253c8"],{e414:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"tw-body"},[s("div",{staticClass:"tw-body-inner xcontainer"},[s("div",{staticClass:"tw-crm"},[s("router-link",{staticClass:"tw-crm-link",attrs:{to:"/issue"}},[e._v("问题列表")]),s("i",{staticClass:"tw-crm-arrow"}),s("span",{staticClass:"tw-crm-self ml-step"},[e._v(e._s(e.$route.query.id?"修改":"新建")+"问题")])],1),s("tw-scope",{attrs:{data:e.submitApi.params},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form",{ref:"form",attrs:{"label-width":"11em",size:"medium",model:t,rules:e.submitApi.rules}},[s("div",{staticClass:"tw-card pl-medium pr-huge pb-medium"},[s("div",{staticClass:"tw-title"},[s("h3",{staticClass:"tw-title-left text-default"},[e._v("问题信息")])]),s("el-row",{attrs:{gutter:20}},[s("el-col",[s("el-form-item",{attrs:{prop:"descript",label:"问题描述:"}},[s("el-input",{model:{value:t.descript,callback:function(s){e.$set(t,"descript",s)},expression:"params.descript"}})],1)],1),s("el-col",[s("el-form-item",{attrs:{prop:"type",label:"问题类型:"}},[s("el-select",{model:{value:t.type,callback:function(s){e.$set(t,"type",s)},expression:"params.type"}},e._l(e.$dic.issueType,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),s("el-col",[s("el-form-item",{attrs:{prop:"type",label:"所属项目:"}},[s("el-select",{attrs:{filterable:"",clearable:""},on:{change:function(s){t.project_name=e.$dic.select(e.$api.project.getDoingProjects.data.list,s,"project_name")}},model:{value:t.project_id,callback:function(s){e.$set(t,"project_id",s)},expression:"params.project_id"}},e._l(e.$api.project.getDoingProjects.data.list,(function(e){return s("el-option",{key:e.id,attrs:{label:e.project_name,value:e.id}})})),1)],1)],1),s("el-col",[s("el-form-item",{attrs:{prop:"handle_developer",label:"问题处理人:"}},[s("el-select",{attrs:{filterable:"","allow-create":"",clearable:""},model:{value:t.handle_developer,callback:function(s){e.$set(t,"handle_developer",s)},expression:"params.handle_developer"}},e._l(e.$api.user.getUsernames.data.list,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1)],1),s("el-col",[s("el-form-item",{attrs:{prop:"resolve_time",label:"期待解决时间:"}},[s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",type:"date"},model:{value:t.resolve_time,callback:function(s){e.$set(t,"resolve_time",s)},expression:"params.resolve_time"}})],1)],1),s("el-col",[s("el-form-item",{attrs:{prop:"status",label:"状态:"}},[s("el-select",{model:{value:t.status,callback:function(s){e.$set(t,"status",s)},expression:"params.status"}},e._l(e.$dic.issueStatus,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)],1)])]}}])}),s("div",{directives:[{name:"fix",rawName:"v-fix:bottom",arg:"bottom"}],staticClass:"tw-fixbtns"},[s("a",{staticClass:"tw-btn xmedium xmain",on:{click:function(t){e.submitApi.send().then((function(t){e.$router.back()}))}}},[e._v("保存")]),s("a",{staticClass:"tw-btn xmedium xweaking",on:{click:function(t){return e.$router.back()}}},[e._v("返回")])])],1)])},i=[],l={name:"page-new-issue",data(){return{submitApi:{}}},methods:{submit(){}},created(){this.$route.query.id?(this.submitApi=this.$api.kpi.updateIssue,this.submitApi.reset(),Object.assign(this.submitApi.params,this.$route.params)):(this.submitApi=this.$api.kpi.addIssue,this.submitApi.reset()),this.$api.project.getDoingProjects.send(),this.$api.user.getUsernames.send()}},r=l,o=s("9ca4"),n=Object(o["a"])(r,a,i,!1,null,null,null);t["default"]=n.exports}}]);